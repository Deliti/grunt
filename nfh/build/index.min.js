/*!create by yaopan 2016-10-27*//nfunction loadMonky(a,b,c,d,e,f,g){setInterval(function(){a.setAttribute("src",b),a.className=d,setTimeout(function(){a.setAttribute("src",c),a.className=e},250),f&&setTimeout(function(){a.setAttribute("src",f),a.className=g},500)},750)}function change(a,b,c){document.addEventListener("touchstart",function(d){var e=d.target||window.event.target;e.parentNode!=a&&e!=a||(b.style.display="none",c.style.display="block")},!1)}function getRandom(a,b){return Math.round(Math.random()*(b-a)+a)}function getQsAn(a,b){for(var c=0;c<b.length;c++)arrQA.push(a[b[c]]);randomArr(0,9,10,s.count3)}function setQsAn(){for(var a=0;a<yOrN.length;a++)yOrN[a].parentNode.style.display="none";s.count4=[],randomArr(0,3,4,s.count4),questions.innerHTML=arrQA[s.count3[s.index]].question;for(var a=0;a<answers.length;a++)answers[a].innerHTML=arrQA[s.count3[s.index]].answer[s.count4[a]][0];icon.src="icon_1-30/pic"+arrQA[s.count3[s.index]].icon+".png"}function randomArr(a,b,c,d){for(;d.length<c;){var e=0,f=getRandom(a,b);if(0==d.length)d.push(f);else{for(var g=0;g<d.length&&f!=d[g];g++)e++;e==d.length&&d.push(f)}}console.log(d)}function changes(a){document.addEventListener("touchstart",function(b){var c=b.target||window.event.target;if("block"!=luckly.parentNode.style.display&&(c.parentNode==a||c==a)){page4.style.display="none",endPage.style.display="block",console.log(luckly.parentNode),luckly.parentNode.style.display="block";var d=getRandom(0,9);d>=4?(luckly.getElementsByTagName("img")[1].src="img/fiv.png",luckly.getElementsByTagName("button")[0].className="lucky_btn1"):(luckly.getElementsByTagName("img")[1].src="img/fifteen.png",luckly.getElementsByTagName("button")[0].className="lucky_btn2")}},!1)}function oneMore(){for(var a=0;a<onceMore.length;a++)console.log(onceMore[a]),onceMore[a].addEventListener("touchstart",function(a){var a=a||window.event;startPage.style.display="none",endPage.style.display="none",qAndA.style.display="block",s={count1:[],count2:[],count3:[],count4:[],index:0,score:0,isAct:!0},randomArr(0,questionList.brand.length-1,3,s.count1),getQsAn(questionList.brand,s.count1),randomArr(0,questionList.xiyou.length-1,7,s.count2),getQsAn(questionList.xiyou,s.count2),setQsAn()},!1)}for(var loadMok=document.querySelector(".load-monk img"),loadShd=document.querySelectorAll(".load-monk img")[1],gress=document.querySelector(".gress"),plan=document.querySelector(".plan"),loadPage=document.querySelector(".load"),startPage=document.querySelector(".start"),imgs=["last_ping.png","load_bg.png","load_mok1.png","load_mok2.png","load_mok3.png","load_shd1.png","load_shd2.png","loading.png","askA.png","askB.png","askC.png","askD.png","false.png","Logo.png","page2_10.png","page2_11.png","page2_12.png","page2_2.png","page2_3.png","page2_4.png","page2_5.png","page2_6.png","page2_7.png","page2_8.png","page2_9.png","page2_bg.png","page2_guang.png","page3_btn.png","page3_title.png","page4_luck.png","page4_more.png","page4_share.png","page4_title.png","page4_xuezhe.png","page7_share.png","page7_title.png","ques.png","true.png"],arrPics=[],index=0,i=0;i<imgs.length;i++)arrPics[i]=new Image,arrPics[i].src="img/"+imgs[i],arrPics[i].onload=function(){index++,arrPics.length>=7&&(gress.style.left=-(imgs.length-index)/imgs.length*100+"%",plan.innerHTML=parseInt(index/imgs.length*100)+"%"),index==imgs.length&&(loadPage.style.display="none",startPage.style.display="block")};var page2=document.querySelector(".page2"),page2Btn=document.querySelector(".start-btn"),page3=document.querySelector(".page3"),page3Btn=document.querySelector(".page3-btn"),page4=document.querySelector(".page4"),qAndA=document.querySelector(".asks"),questions=document.querySelector(".ask"),answers=document.querySelectorAll(".an p"),yOrN=document.querySelectorAll(".yorn img"),lis=document.querySelectorAll(".an"),icon=document.querySelector(".logo img"),endPage=document.querySelector(".end"),losePage=endPage.querySelector(".lose"),luckyBtn=document.querySelectorAll(".lucky"),xuezhe=document.querySelectorAll(".page4-title img")[1];change(page2Btn,page2,page3),change(page3Btn,page3,qAndA);var arrQA=[],s={count1:[],count2:[],count3:[],count4:[],index:0,score:0,isAct:!0};randomArr(0,questionList.brand.length-1,3,s.count1),getQsAn(questionList.brand,s.count1),randomArr(0,questionList.xiyou.length-1,7,s.count2),getQsAn(questionList.xiyou,s.count2),setQsAn(),qAndA.addEventListener("touchstart",function(a){var b=a.target||window.event.target;if(s.isAct){switch(b.parentNode){case lis[0]:arrQA[s.count3[s.index]].answer[s.count4[0]][1]?(yOrN[0].src="img/true.png",yOrN[0].parentNode.style.display="block",s.score++):(yOrN[0].src="img/false.png",yOrN[0].parentNode.style.display="block");break;case lis[1]:arrQA[s.count3[s.index]].answer[s.count4[1]][1]?(yOrN[1].src="img/true.png",yOrN[1].parentNode.style.display="block",s.score++):(yOrN[1].src="img/false.png",yOrN[1].parentNode.style.display="block");break;case lis[2]:arrQA[s.count3[s.index]].answer[s.count4[2]][1]?(yOrN[2].src="img/true.png",yOrN[2].parentNode.style.display="block",s.score++):(yOrN[2].src="img/false.png",yOrN[2].parentNode.style.display="block");break;case lis[3]:arrQA[s.count3[s.index]].answer[s.count4[3]][1]?(yOrN[3].src="img/true.png",yOrN[3].parentNode.style.display="block",s.score++):(yOrN[3].src="img/false.png",yOrN[3].parentNode.style.display="block")}b.parentNode!=lis[0]&&b.parentNode!=lis[1]&&b.parentNode!=lis[2]&&b.parentNode!=lis[3]||(s.isAct=!1,s.index++,s.index<10?setTimeout(function(){s.isAct=!0,setQsAn()},1e3):setTimeout(function(){if(s.score>=8){for(var a=page4.getElementsByTagName("span"),b=0;b<a.length;b++)a[b].innerHTML=s.score;xuezhe.setAttribute("src","img/page4_xuezhe.png"),qAndA.style.display="none",startPage.style.display="block",page4.style.display="block"}else if(s.score>=6&&s.score<8){for(var a=page4.getElementsByTagName("span"),b=0;b<a.length;b++)a[b].innerHTML=s.score;xuezhe.setAttribute("src","img/page4_xuezhe1.png"),qAndA.style.display="none",startPage.style.display="block",page4.style.display="block"}else{for(var c=endPage.querySelectorAll(".lose span"),b=0;b<c.length;b++)c[b].innerHTML=s.score;qAndA.style.display="none",losePage.style.display="block",endPage.style.display="block"}},1e3))}},!1);var luckly=document.querySelector(".luckys"),onceMore=document.querySelectorAll(".more");changes(luckyBtn[0]),changes(luckyBtn[1]),console.log(onceMore),oneMore();